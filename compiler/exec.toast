# 1 array status def
[ 0 ] status def
# 0
# "/bin/ls"c
# [ "./"c 0 ] 8+
# swap 
# ExecSyscode
# syscall3

{ 1 - dup 0 != { unneccesaryLoops call } if } unneccesaryLoops def
{ forever call } forever def

{ # [...args] command
	ForkSyscode
	syscall0 # isParent pid
	swap
	{
		0 0 
		status 8 +
		4 -1 roll
		6 -2 roll 2 popN
		WaitSyscode syscall4
	}
	{
		pop
		0
		2 index 8+
		2 index
		ExecSyscode
		syscall3
		0 exit
	} ifelse
} runCommand def

# -1 exit
